<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Photo Gallery ‚Äî Photo.html</title>
  <meta name="description" content="Responsive photo gallery with PNG button, modal lightbox, keyboard navigation and lazy loading." />
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#94a3b8; --accent:#7dd3fc;
      --gap:12px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#071022);color:#e6eef8}
    .wrap{max-width:1200px;margin:28px auto;padding:18px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:1.25rem;margin:0}
    p.lead{margin:4px 0;color:var(--muted);font-size:0.95rem}

    /* PNG button example */
    .png-btn{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;background:transparent;border:1px solid rgba(255,255,255,0.06);border-radius:12px;cursor:pointer;color:inherit;transition:all 0.2s ease}
    .png-btn:hover{background:rgba(255,255,255,0.05);border-color:rgba(255,255,255,0.1)}
    .png-btn img{width:36px;height:36px;object-fit:cover;border-radius:8px}

    /* Gallery grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:var(--gap)}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:12px;overflow:hidden;position:relative;border:none;cursor:pointer;transition:transform 0.2s ease}
    .card:hover{transform:translateY(-4px)}
    .card img{width:100%;height:160px;object-fit:cover;display:block}
    .meta{position:absolute;left:8px;bottom:8px;padding:6px 8px;background:linear-gradient(90deg,rgba(0,0,0,0.45),rgba(0,0,0,0.15));backdrop-filter:blur(4px);border-radius:8px;font-size:13px}

    /* Lightbox modal */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:20px;z-index:60}
    .modal.show{display:flex;background:linear-gradient(180deg,rgba(2,6,23,0.8),rgba(2,6,23,0.95))}
    .lightbox{max-width:1100px;width:100%;max-height:90vh;background:var(--card);border-radius:14px;overflow:hidden;display:grid;grid-template-columns:1fr 320px;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5)}
    .lightbox .figure{display:flex;align-items:center;justify-content:center;background:#061024}
    .lightbox img{max-width:100%;max-height:88vh;object-fit:contain}
    .side{padding:16px;color:var(--muted)}
    .side h2{margin:0 0 8px 0;color:#e6eef8}
    .actions{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
    .icon-btn{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;cursor:pointer;color:inherit;transition:all 0.2s ease}
    .icon-btn:hover{background:rgba(255,255,255,0.05);border-color:rgba(255,255,255,0.1)}

    /* Header styling */
    h3 { 
      color: #7dd3fc; 
      margin-left: 20px;
      margin-bottom: 10px; 
      font-size: 24px; 
      text-shadow: 0 0 5px rgba(125, 211, 252, 0.5); 
      font-weight: 600;
    }

    /* Responsive */
    @media (max-width:800px){
      .lightbox{grid-template-columns:1fr}
      .side{display:none}
      header{flex-direction:column;align-items:flex-start;gap:12px}
    }

    /* small helper */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* Loading indicator */
    .loading{display:flex;align-items:center;justify-content:center;height:160px;color:var(--muted)}
    .spinner{border:2px solid rgba(255,255,255,0.1);border-top:2px solid var(--accent);border-radius:50%;width:24px;height:24px;animation:spin 1s linear infinite}
    @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}

    /* Empty state */
    .empty-state{grid-column:1/-1;text-align:center;padding:40px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h3>ìÑÇÂçÇùî™ VÃ∂ÃÉ‡πÄ◊ß‚ç£</h3>
        <h1>Gallery</h1>
        <p class="lead">Proof </p>
      </div>
      <div>
        <!-- PNG as button: supply any .png or .webp image -->
        <button id="uploadBtn" class="png-btn" title="Add photos">
          <img src="https://i.ibb.co/4nG9q6c1/1000-png.png" alt="upload icon">
          <span>Add Photo</span>
        </button>
      </div>
    </header>
    
    <main>
      <section class="grid" id="gallery" aria-live="polite">
        <!-- Gallery items inserted by JS -->
      </section>
    </main>
  </div>

  <!-- Lightbox modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="lightbox" role="document">
      <div class="figure">
        <img id="lightImg" alt="Expanded photo">
      </div>
      <aside class="side">
        <h2 id="lightTitle">Title</h2>
        <p id="lightDesc"></p>
        <div class="actions">
          <button id="prevBtn" class="icon-btn">‚óÄ Prev</button>
          <button id="nextBtn" class="icon-btn">Next ‚ñ∂</button>
          <a id="downloadBtn" class="icon-btn" download>Download</a>
          <button id="closeBtn" class="icon-btn">Close ‚úï</button>
        </div>
      </aside>
    </div>
  </div>
  
  <input id="fileInput" type="file" accept="image/*" class="sr-only" multiple />
  
  <script>
    // Sample images (public unsplash links) - replace with your own
    const sample = [
      {src:'https://i.ibb.co/QvQXZjPH/im-jpg.jpg/photo-1500530855697-b586d89ba3ee?q=80&w=1400&auto=format&fit=crop', title:'Desert', desc:'Wide-open sand dunes.'},
      {src:'https://i.ibb.co/h1CrGQRH/im1-jpg.jpg/photo-1502082553048-f009c37129b9?q=80&w=1400&auto=format&fit=crop', title:'Aurora', desc:'Night sky aurora.'},
      {src:'https://i.ibb.co/8gMvX8nt/im2-jpg.jpg/photo-1506905925346-21bda4d32df4?q=80&w=1400&auto=format&fit=crop', title:'Mountains', desc:'Snow-capped mountain peaks.'},
      {src:'https://i.ibb.co/6Jrjv9NK/im3-jpg.jpg/photo-1469474968028-56623f02e42e?q=80&w=1400&auto=format&fit=crop', title:'Landscape', desc:'Beautiful natural landscape.'},
      {src:'https://i.ibb.co/zhJ5zR83/im4-jpg.jpg/photo-1447752875215-b2761acb3c5d?q=80&w=1400&auto=format&fit=crop', title:'Forest', desc:'Misty forest path.'},
      {src:'https://i.ibb.co/8Lg122JB/im5-jpg.jpg/1000-png.png/photo-1470071459604-3b5ec3a7fe05?q=80&w=1400&auto=format&fit=crop', title:'AMVIP', desc:'Colorful sunset over water.'}
    ];

    const gallery = document.getElementById('gallery');
    const modal = document.getElementById('modal');
    const lightImg = document.getElementById('lightImg');
    const lightTitle = document.getElementById('lightTitle');
    const lightDesc = document.getElementById('lightDesc');
    const downloadBtn = document.getElementById('downloadBtn');

    let items = [...sample];
    let current = 0;

    function renderGrid(){
      gallery.innerHTML = '';
      
      if (items.length === 0) {
        gallery.innerHTML = '<div class="empty-state">No photos yet. Click "Add Photo" to upload images.</div>';
        return;
      }
      
      items.forEach((it, i)=>{
        const card = document.createElement('button');
        card.className = 'card';
        card.type = 'button';
        card.setAttribute('data-index', i);
        card.innerHTML = `
          <img loading="lazy" src="${it.src}" alt="${it.title}">
          <div class="meta">${it.title}</div>
        `;
        card.addEventListener('click', ()=>openLightbox(i));
        gallery.appendChild(card);
      });
    }

    function openLightbox(i){
      current = i;
      const it = items[i];
      
      // Show loading state
      lightImg.style.display = 'none';
      const loading = document.createElement('div');
      loading.className = 'loading';
      loading.innerHTML = '<div class="spinner"></div>';
      lightImg.parentNode.appendChild(loading);
      
      lightImg.onload = function() {
        lightImg.style.display = 'block';
        if (loading.parentNode) loading.parentNode.removeChild(loading);
      };
      
      lightImg.src = it.src;
      lightImg.alt = it.title;
      lightTitle.textContent = it.title;
      lightDesc.textContent = it.desc;
      downloadBtn.href = it.src;
      downloadBtn.download = it.title.replace(/\s+/g, '_') + '.jpg';
      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      
      // Focus management for accessibility
      setTimeout(() => document.getElementById('closeBtn').focus(), 100);
    }

    function closeLightbox(){
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }

    function next(){ 
      current = (current+1) % items.length; 
      openLightbox(current); 
    }
    
    function prev(){ 
      current = (current-1 + items.length) % items.length; 
      openLightbox(current); 
    }

    // Controls
    document.getElementById('nextBtn').addEventListener('click', next);
    document.getElementById('prevBtn').addEventListener('click', prev);
    document.getElementById('closeBtn').addEventListener('click', closeLightbox);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeLightbox(); });

    // Keyboard navigation
    window.addEventListener('keydown', (e)=>{
      if(modal.classList.contains('show')){
        if(e.key==='ArrowRight') next();
        if(e.key==='ArrowLeft') prev();
        if(e.key==='Escape') closeLightbox();
      }
    });

    // PNG-style upload button triggers hidden file input
    const uploadBtn = document.getElementById('uploadBtn');
    const fileInput = document.getElementById('fileInput');
    uploadBtn.addEventListener('click', ()=> fileInput.click());

    fileInput.addEventListener('change', async (ev)=>{
      const files = Array.from(ev.target.files).slice(0,12);
      for(const f of files){
        if(!f.type.startsWith('image/')) continue;
        const url = URL.createObjectURL(f);
        items.unshift({src:url, title:f.name.replace(/\.[^/.]+$/, ""), desc:`Uploaded ${new Date().toLocaleString()}`});
      }
      renderGrid();
      fileInput.value = ''; // Reset file input
    });

    // Initial render
    renderGrid();

    // Accessibility: focus trap minimal
    modal.addEventListener('keydown', (e)=>{
      if(e.key==='Tab'){
        // very small trap: keep focus inside close button / next btn when modal open
        const focusable = Array.from(modal.querySelectorAll('button,a')).filter(n=>!n.disabled);
        if(focusable.length===0) return;
        const idx = focusable.indexOf(document.activeElement);
        if(e.shiftKey && idx===0){ e.preventDefault(); focusable[focusable.length-1].focus(); }
        if(!e.shiftKey && idx===focusable.length-1){ e.preventDefault(); focusable[0].focus(); }
      }
    });

    // Clean up object URLs on unload
    window.addEventListener('unload', ()=>{ 
      items.forEach(it=>{ 
        try{ 
          if(it.src.startsWith('blob:')) URL.revokeObjectURL(it.src);
        } catch(e){} 
      });
    });
  </script>
</body>
</html>
